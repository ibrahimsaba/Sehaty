<section id="dashboard" class="dashboard">
  <!-- Title -->
  <div class="dashboard__title">
    <h2 class="dashboard__title-main">
      Edit Patient: {{ patient?.firstName }} {{ patient?.lastName }}
    </h2>
    <p class="dashboard__title-sub">
      Update patient clinical information and status
    </p>
  </div>

  <!-- Edit Card -->
  <div class="patient-edit">
    <div class="patient-edit__card">
      <form [formGroup]="patientForm" (ngSubmit)="onSubmit()">
        @if(serverError){
        <div class="server-error">
          <span>{{ serverError }}</span>
        </div>
        }

        <div class="patient-edit__grid">
          <!-- Blood Type -->
          <p-floatlabel class="patient-edit__input">
            <input pInputText formControlName="bloodType" />
            <label>Blood Type</label>
          </p-floatlabel>

          <!-- Allergies -->
          <p-floatlabel class="patient-edit__input">
            <input pInputText formControlName="allergies" />
            <label>Allergies</label>
          </p-floatlabel>

          <!-- Chronic Conditions -->
          <p-floatlabel class="patient-edit__input">
            <input pInputText formControlName="chrinicConditions" />
            <label>Chronic Conditions</label>
          </p-floatlabel>

          <!-- Status Dropdown -->
          <div class="patient-edit__input patient-edit__input--status">
            <label class="patient-edit__status-label">Status</label>
            <p-dropdown
              formControlName="status"
              [options]="[
                { label: 'Active', value: statusEnum.Active },
                { label: 'Discharged', value: statusEnum.Discharged },
                { label: 'Readmitted', value: statusEnum.Readmitted }
              ]"
              placeholder="Select Status"
            ></p-dropdown>
          </div>
        </div>

        <div class="patient-edit__button-container">
          <p-button type="submit" label="Update Patient"></p-button>
        </div>
      </form>
    </div>
  </div>
</section>
